<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8"/>
<title>WS运营管理系统</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<!-- css -->
<link rel="stylesheet" type="text/css" href="../../webjars/js/nice-validator/jquery.validator.css" th:href="@{/webjars/js/nice-validator/jquery.validator.css}"/>
<link rel="stylesheet" type="text/css" href="../../webjars/themes/uimaker/easyui.css" th:href="@{/webjars/themes/uimaker/easyui.css}"/>
<link rel="stylesheet" type="text/css" href="../../webjars/css/commons.css" th:href="@{/webjars/css/commons.css}"/>
<link rel="stylesheet" type="text/css" href="../../webjars/css/icons.css" th:href="@{/webjars/css/icons.css}"/>
<link rel="stylesheet" type="text/css" href="../../css/mainframe.css" th:href="@{/css/mainframe.css}"/>

<link rel="stylesheet" type="text/css" href="../../webjars/js/nice-validator/jquery.validator.css" th:href="@{/webjars/js/nice-validator/jquery.validator.css}"/>
<link rel="stylesheet" type="text/css" href="../../webjars/js/viewer/css/viewer.min.css" th:href="@{/webjars/js/viewer/css/viewer.min.css}"/>

<!-- jquery -->
<script type="text/javascript" charset="utf-8" src="../../webjars/js/jquery.min.js" th:src="@{/webjars/js/jquery.min.js}"></script>
<!-- jqueryui -->
<script type="text/javascript" charset="utf-8" src="../../webjars/js/jquery-ui/js/jquery-ui.custom.js" th:src="@{/webjars/js/jquery-ui/js/jquery-ui.custom.js}"></script>
<!-- easyui -->
<script type="text/javascript" charset="utf-8" src="../../webjars/js/jquery-easyui/jquery.easyui.min.js" th:src="@{/webjars/js/jquery-easyui/jquery.easyui.min.js}"></script>
<script type="text/javascript" charset="utf-8" src="../../webjars/js/jquery-easyui/locale/easyui-lang-zh_CN.js" th:src="@{/webjars/js/jquery-easyui/locale/easyui-lang-zh_CN.js}"></script>
<script type="text/javascript" charset="utf-8" src="../../webjars/js/extEasyUI.js" th:src="@{/webjars/js/extEasyUI.js}"></script>
<!-- other -->
<script type="text/javascript" charset="utf-8" src="../../webjars/js/datepicker/WdatePicker.js" th:src="@{/webjars/js/extEasyUI.js}"></script>
<script type="text/javascript" charset="utf-8" src="../../webjars/js/jquery.form.js" th:src="@{/webjars/js/extEasyUI.js}"></script>
<script type="text/javascript" charset="utf-8" src="../../webjars/js/nice-validator/jquery.validator.js" th:src="@{/webjars/js/extEasyUI.js}"></script>
<script type="text/javascript" charset="utf-8" src="../../webjars/js/nice-validator/local/zh-CN.js" th:src="@{/webjars/js/extEasyUI.js}"></script>
<script type="text/javascript" charset="utf-8" src="../../webjars/js/viewer/js/viewer-jquery.min.js" th:src="@{/webjars/js/viewer/js/viewer-jquery.min.js}"></script><!-- viewer -->

<!-- customize -->
<script type="text/javascript" charset="utf-8" src="../../webjars/js/commons.js" th:src="@{/webjars/js/commons.js}"></script>
<script type="text/javascript" charset="utf-8" src="../../webjars/js/components.js" th:src="@{/webjars/js/components.js}"></script>

<script type="text/javascript" th:inline="javascript">
/*<![CDATA[*/
var _contextPath = /*[[@{/}]]*/'';
/*]]>*/
</script>

<script type="text/javascript" th:inline="javascript">
$(document).ready(function(){
	var $index_layout = $('#index_layout');
	$index_layout.layout({
		fit : true
	});
	
	var $index_tabs = $('#index_tabs');
	var $index_tabs_menu = $('#index_tabs_menu');
    var euiIndexTabsMenu = $index_tabs_menu.menu();
	/**
	 * 初始化页面tabs 
	 */
	var euiIndexTabs = $index_tabs.tabs({
	    fit : true,
	    border : false,
	    //tabHeight: 44,
	    onBeforeClose: function(title,index){
        	$.triggerge('mainframe_tab_before_close',[{title:title,index:index}]);
        },
        onSelect:function(title){
			var selectedTab = $indexTabs.tabs('getTab',title);
			var $iframe = $(selectedTab).find("iframe.mainframeTab");
			if($iframe.attr('refreshWhenSelect') && $iframe.attr('refreshWhenSelect') === 'true'){
				$iframe.attr('src',$iframe.attr('newSrc'));
			}
		},
        onContextMenu : function(e, title) {
            e.preventDefault();
            euiIndexTabsMenu.menu('show', {
                left : e.pageX,
                top : e.pageY
            }).data('tabTitle', title);
        },
        tools : [{
            iconCls : 'database_refresh',
            handler : function() {
                var href = euiIndexTabs.tabs('getSelected').panel('options').href;
                if (href) {
                    /*说明tab是以href方式引入的目标页面*/
                    var index = euiIndexTabs.tabs('getTabIndex', euiIndexTabs.tabs('getSelected'));
                    euiIndexTabs.tabs('getTab', index).panel('refresh');
                } else {
                    /*说明tab是以content方式引入的目标页面*/
                    var panel = euiIndexTabs.tabs('getSelected').panel('panel');
                    var frame = panel.find('iframe');
                    try {
                        if (frame.length > 0) {
                            for (var i = 0; i < frame.length; i++) {
                                frame[i].contentWindow.document.write('');
                                frame[i].contentWindow.close();
                                frame[i].src = frame[i].src;
                            }
                            if (navigator.userAgent.indexOf("MSIE") > 0) {// IE特有回收内存方法
                                try {
                                    CollectGarbage();
                                } catch (e) {
                                }
                            }
                        }
                    } catch (e) {
                    }
                }
            }
        }, {
            iconCls : 'delete',
            handler : function() {
                var index = euiIndexTabs.tabs('getTabIndex', euiIndexTabs.tabs('getSelected'));
                var tab = euiIndexTabs.tabs('getTab', index);
                if (tab.panel('options').closable) {
                    euiIndexTabs.tabs('close', index);
                } else {
                    $.messager.alert('提示', '[' + tab.panel('options').title + ']不可以被关闭！', 'error');
                }
            }
        }]
	});
	
	
	
	//关闭当前
	$('#mm-tabclose').click(function(){
	    var currtab_title = $('#mm').data("currtab");
	    var t = $(".easyui-tabs1:visible").tabs('getTab', currtab_title);
	    if (t.panel('options').closable) {
	    	$(".easyui-tabs1:visible").tabs('close',currtab_title);
	    }
	});
	//全部关闭
	$('#mm-tabcloseall').click(function(){
	    $(".easyui-tabs1:visible").find('.tabs li').each(function(i,n){
	    	var currtab_title = $(n).text();
	    	var t = $(".easyui-tabs1:visible").tabs('getTab', currtab_title);
	        if (t.panel('options').closable) {
	        	$(".easyui-tabs1:visible").tabs('close',currtab_title);
	        }
	    });    
	});
	//关闭除当前之外的TAB
	$('#mm-tabcloseother').click(function(){
	    var currtab_title = $('#mm').data("currtab");
	    $(".easyui-tabs1:visible").find('.tabs li').each(function(i,n){
	    	var tab_title_temp = $(n).text();
	    	var t = $(".easyui-tabs1:visible").tabs('getTab', tab_title_temp);
	        if (tab_title_temp != currtab_title && t.panel('options').closable) {
	        	$(".easyui-tabs1:visible").tabs('close',tab_title_temp);
	        }
	    }); 
	    $(".easyui-tabs1:visible").tabs('select', currtab_title);
	});
});
</script>

<!-- script type="text/javascript" charset="utf-8" src="../../mainframe/mainframe.js" th:src="@{/mainframe/mainframe.js}"></script  -->
</head>
<body>
<div id="index_layout">
	<div id="pf-hd" data-options="region:'north',border:false" class="header">
		<div class="logo"><img src="../../images/logo.png" th:src="@{/images/logo.png}"></div>
		
        <ul class="nav">
        	<li><a href="javascript:void(0);"><i class="iconfont">&#xe617;</i>工作台</a></li>
	        <li><a href="javascript:void(0);"><i class="iconfont">&#xe60e;</i>范例</a></li>
	        <li><a href="javascript:void(0);"><i class="iconfont">&#xe78e;</i>报表</a></li>
	        <li><a href="javascript:void(0);"><i class="iconfont">&#xe613;</i>日志</a></li>
	        <li><a href="javascript:void(0);"><i class="iconfont">&#xe605;</i>配置</a></li>
        </ul>
        
        <div class="topright">
            <ul class="toptool">
            <li><a href="#"><i class="iconfont">&#xe6ba;</i></a><em>3</em></li>
            <li><a href="#"><i class="iconfont">&#xe60c;</i></a><em class="gcolor">5</em></li>
            <li><a href="#"><i class="iconfont">&#xe61a;</i></a></li>
            <li><span class="userface"><i class="iconfont">&#xe60d;</i></span><a href="#"><font>Admin&nbsp;&nbsp;<i class="iconfont userdown">&#xe618;</i></font></a></li>
            </ul>
        </div>
	</div>
	
	<div data-options="region:'west',split:true,border:false,title:'菜单',iconCls:'icon-yingyong-copy'" class="left">
    	<div class="easyui-accordion"  data-options="border:false" style="width:100%; height:750px;">
			<div title="组件" data-options="iconCls:'icon-Components'" style="overflow:auto;">
	        	<ul class="easyui-tree">
					<li>
						<span>Easyui</span>
						<ul>  
							<li>
								<span>基础</span>
								<ul>
									<li><a href="#" onclick="addTab('可放置','droppable.html')">可放置</a></li>
	                                <li><a href="#" onclick="addTab('可拖动','draggable.html')">可拖动</a></li>
	                                <li><a href="#" onclick="addTab('可调整大小','resizable.html')">可调整大小</a></li>
	                                <li><a href="#" onclick="addTab('分页','pagination.html')">分页</a></li>
	                                <li><a href="#" onclick="addTab('搜索框','searchbox.html')">搜索框</a></li>
	                                <li><a href="#" onclick="addTab('进度条','progressbar.html')">进度条</a></li>
	                                <li><a href="#" onclick="addTab('提示框','tooltip.html')">提示框</a></li>
								</ul>
							</li>
							<li style=" display:none">
								<span>布局</span>
								<ul>
									<li><a href="#" onclick="addTab('面板','panel.html')">面板</a></li>
	                                <li><a href="#" onclick="addTab('选项卡','tabs.html')">选项卡</a></li>
	                                <li><a href="#" onclick="addTab('折叠面板','accordion.html')">折叠面板</a></li>
	                                <li><a href="#" onclick="addTab('布局','layout.html')">布局</a></li>
								</ul>
							</li>
						</ul>
					</li>
				</ul>
			</div>
			<div title="表单" data-options="iconCls:'icon-biaodan'" style=" overflow:auto;">
	        	<ul class="easyui-tree">
					<li><a href="#" onclick="addTab('表单','form.html')">表单</a></li>
	                <li><a href="#" onclick="addTab('验证框','validatebox.html')">验证框</a></li>
	                <li><a href="#" onclick="addTab('文本框','textbox.html')">文本框</a></li>
	                <li><a href="#" onclick="addTab('密码框','passwordbox.html')">密码框</a></li>
	                <li><a href="#" onclick="addTab('格式框','maskedbox.html')">格式框</a></li>
	                <li><a href="#" onclick="addTab('组合','combo.html')">组合</a></li>
	                <li><a href="#" onclick="addTab('组合框','combobox.html')">组合框</a></li>
	                <li><a href="#" onclick="addTab('组合树','combotree.html')">组合树</a></li>
	                <li><a href="#" onclick="addTab('组合网格','combogrid.html')">组合网格</a></li>
	                <li><a href="#" onclick="addTab('组合树网格','combotreegrid.html')">组合树网格</a></li>
	                <li><a href="#" onclick="addTab('标签框','tagbox.html')">标签框</a></li>
	                <li><a href="#" onclick="addTab('数字框','numberbox.html')">数字框</a></li>
	                <li><a href="#" onclick="addTab('日期框','datebox.html')">日期框</a></li>
	                <li><a href="#" onclick="addTab('日期时间框','datetimebox.html')">日期时间框</a></li>
	                <li><a href="#" onclick="addTab('日期时间微调','datetimespinner.html')">日期时间微调</a></li>
	                <li><a href="#" onclick="addTab('日历','calendar.html')">日历</a></li>
	                <li><a href="#" onclick="addTab('数值微调','numberspinner.html')">数值微调</a></li>
	                <li><a href="#" onclick="addTab('时间微调','timespinner.html')">时间微调</a></li>
	                <li><a href="#" onclick="addTab('滑块','slider.html')">滑块</a></li>
	                <li><a href="#" onclick="addTab('文件框','filebox.html')">文件框</a></li>
	                <li><a href="#" onclick="addTab('复选框','checkbox.html')">复选框</a></li>
	                <li><a href="#" onclick="addTab('单选框','radiobutton.html')">单选框</a></li>
				</ul>
			</div>
			<div title="常用控件" data-options="iconCls:'icon-zujian-'" style="overflow:auto;">
	        	<ul class="easyui-tree">
	            	<li>
	                    <span>菜单按钮</span>
	                    <ul>
	                    <li><a href="#" onclick="addTab('菜单','menu.html')">菜单</a></li>
	                    <li><a href="#" onclick="addTab('侧边菜单','sidemenu.html')">侧边菜单</a></li>
	                    <li><a href="#" onclick="addTab('按钮','linkbutton.html')">按钮</a></li>
	                    <li><a href="#" onclick="addTab('菜单按钮','menubutton.html')">菜单按钮</a></li>
	                    <li><a href="#" onclick="addTab('分割按钮','splitbutton.html')">分割按钮</a></li>
	                    <li><a href="#" onclick="addTab('开关按钮','switchbutton.html')">开关按钮</a></li>
	                    </ul>
	                </li>
	                <li>
	                    <span>窗口</span>
	                    <ul>
	                    <li><a href="#" onclick="addTab('窗口','window.html')">窗口</a></li>
	                    <li><a href="#" onclick="addTab('对话框','dialog.html')">对话框</a></li>
	                    <li><a href="#" onclick="addTab('消息提示','messager.html')">消息提示</a></li>
	                    </ul>	
	                </li>                
				</ul>		
			</div>
	        <div title="网格和树" data-options="iconCls:'icon-zujian-shu'" style="overflow:auto;">
	        	<ul class="easyui-tree">
					<li><a href="#" onclick="addTab('数据网格','datagrid.html')">数据网格</a></li>
	                <li><a href="#" onclick="addTab('数据列表','datalist.html')">数据列表</a></li>
	                <li><a href="#" onclick="addTab('属性网格','propertygrid.html')">属性网格</a></li>
	                <li><a href="#" onclick="addTab('树','tree.html')">树</a></li>
	                <li><a href="#" onclick="addTab('树形网格','treegrid.html')">树形网格</a></li>
				</ul>		
			</div>
	        <div title="应用" data-options="iconCls:'icon-bianji'" style="overflow:auto;">
	        	<ul class="easyui-tree">
	                <li><a href="#" onclick="addTab('图标','icon.html')">图标</a></li>
	                <li><a href="#" onclick="addTab('404页','404.html')">404页</a></li>
				</ul>		
			</div>
		</div>
    
    </div>
	
	<div data-options="region:'center',border:false" class="center">
    	<div id="index_tabs">
			<div title="首页">
				<iframe src="default.html" th:src="@{/workbench/}" id="iframe" name="right" width="100%" height="98%" frameborder="0" scrolling="auto"></iframe>
			</div>
       	</div>    
	</div>
	
	<div data-options="region:'south',border:false"  class="footer">
    	<span class="fleft"><i class="iconfont">&#xe622;</i>webdemo模板</span>
        <span class="fright">cqtianxin版权所有<i class="iconfont">&#xe620;</i></span>
    </div>
</div>

<div id="index_tabs_menu" style="width: 120px; display: none;">
	<div title="refresh" data-options="iconCls:'transmit'">刷新</div>
	<div class="menu-sep"></div>
	<div title="close" data-options="iconCls:'delete'">关闭</div>
	<div title="closeOther" data-options="iconCls:'delete'">关闭其他</div>
	<div title="closeAll" data-options="iconCls:'delete'">关闭所有</div>
</div>

</body>
</html>

