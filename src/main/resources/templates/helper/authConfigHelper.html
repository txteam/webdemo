<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8"/>
	<title>权限配置帮助</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
<div th:replace="fragments/easyui_header::common_replace">
	<!-- css -->
	<link rel="stylesheet" type="text/css" href="../../../webjars/js/jquery-ui/css/no-theme/jquery-ui.custom.min.css" th:href="@{/webjars/js/jquery-ui/css/no-theme/jquery-ui.custom.min.css}"/>
	<link rel="stylesheet" type="text/css" href="../../../webjars/js/jquery-easyui/themes/bootstrap/easyui.css" th:href="@{/webjars/js/jquery-easyui/themes/bootstrap/easyui.css}"/>
	<link rel="stylesheet" type="text/css" href="../../../webjars/js/nice-validator/jquery.validator.css" th:href="@{/webjars/js/nice-validator/jquery.validator.css}"/>
	<link rel="stylesheet" type="text/css" href="../../../webjars/js/viewer/css/viewer.min.css" th:href="@{/webjars/js/viewer/css/viewer.min.css}"/>
	<!-- customize -->
	<link rel="stylesheet" type="text/css" href="../../../webjars/css/icons.css" th:href="@{/webjars/css/icons.css}"/>
	<link rel="stylesheet" type="text/css" href="../../../webjars/css/commons.css" th:href="@{/webjars/css/commons.css}"/>
	
	<!-- jquery -->
	<script type="text/javascript" charset="utf-8" src="../../../webjars/js/jquery.min.js" th:src="@{/webjars/js/jquery.min.js}"></script>
	<!-- jqueryui -->
	<script type="text/javascript" charset="utf-8" src="../../../webjars/js/jquery-ui/js/jquery-ui.custom.js" th:src="@{/webjars/js/jquery-ui/js/jquery-ui.custom.js}"></script>
	<!-- easyui -->
	<script type="text/javascript" charset="utf-8" src="../../../webjars/js/jquery-easyui/jquery.easyui.min.js" th:src="@{/webjars/js/jquery-easyui/jquery.easyui.min.js}"></script>
	<script type="text/javascript" charset="utf-8" src="../../../webjars/js/jquery-easyui/locale/easyui-lang-zh_CN.js" th:src="@{/webjars/js/jquery-easyui/locale/easyui-lang-zh_CN.js}"></script>
	<script type="text/javascript" charset="utf-8" src="../../../webjars/js/ext.easyui.js" th:src="@{/webjars/js/ext.easyui.js}"></script>
	<!-- other -->
	<script type="text/javascript" charset="utf-8" src="../../../webjars/js/datepicker/WdatePicker.js" th:src="@{/webjars/js/datepicker/WdatePicker.js}"></script>
	<script type="text/javascript" charset="utf-8" src="../../../webjars/js/jquery.form.js" th:src="@{/webjars/js/jquery.form.js}"></script>
	<script type="text/javascript" charset="utf-8" src="../../../webjars/js/nice-validator/jquery.validator.js" th:src="@{/webjars/js/nice-validator/jquery.validator.js}"></script>
	<script type="text/javascript" charset="utf-8" src="../../../webjars/js/nice-validator/local/zh-CN.js" th:src="@{/webjars/js/nice-validator/local/zh-CN.js}"></script>
	<script type="text/javascript" charset="utf-8" src="../../../webjars/js/viewer/js/viewer-jquery.min.js" th:src="@{/webjars/js/viewer/js/viewer-jquery.min.js}"></script><!-- viewer -->
	<!-- echarts -->
	<script type="text/javascript" charset="utf-8" src="../../../webjars/js/echarts/echarts.min.js" th:src="@{/webjars/js/echarts/echarts.min.js}"></script>
	<script type="text/javascript" charset="utf-8" src="../../../webjars/js/echarts/ext.echarts.js" th:src="@{/webjars/js/echarts/ext.echarts.js}"></script>
	<!-- customize -->
	<script type="text/javascript" charset="utf-8" src="../../../webjars/js/commons.js" th:src="@{/webjars/js/commons.js}"></script>
	<script type="text/javascript" charset="utf-8" src="../../../webjars/js/components.js" th:src="@{/webjars/js/components.js}"></script>
	<script type="text/javascript" th:inline="javascript">
	/*<![CDATA[*/
	var _contextPath = /*[[@{/}]]*/'';
	/*]]>*/
	</script>
</div>
<style type="text/css">
</style>
</head>
<body>
<div style="padding: 5px">
<font color="red">框架已调整，待更新......</font>
<pre>	


	项目中的权限使用规范：
		
	一、
参考配置：OrganizationController.java
		
	二、配置菜单中的权限项

	三、数据权限配置及使用
		在mybatis配置文件中可以通过这样的形式判断权限
		&lt;if test="!@com.tx.component.mainframe.context.WebContextUtils@hasAuth('query_all_org_post')"&gt;&lt;/if&gt;
参考PostSqlMap.xml
		对应权限项目配置于data_auth_config.xml

	四、权限配置文件中的：
			当前项目中仅存在主菜单：
	配置文件：
		src/main/resources/authcontext/data_auth_config.xml
		src/main/resources/authcontext/operate_auth_config.xml
		classpath:/authcontext/data_auth_config.xml
		classpath:/authcontext/operate_auth_config.xml
参考：operate_auth_config.xml
    data_auth_config.xml
			
	所以这里仅对主菜单配置进行说明：
		菜单项：
			key="cre_pro_queryCurrentOrg" 
			name="查询所属组织的贷款产品"
	权限项目之间具有互相包含关系
		如果嵌套配置权限项，则子权限项目的父级权限
<form class="form">
	<table>
		<tr>
			<th>key</th>
			<td>	
				权限项唯一键,允许重复,重复的权限项,<br/>
				如果优先记载的权限项目无说明,name,parentId,description<br/>
				将被后加载的存在的相应消息覆盖
			</td>
		</tr>
		<tr>
			<th>name</th>
			<td>权限项名</td>
		</tr>
		<tr>
			<th>description</th>
			<td>
				权限项目说明
			</td>
		</tr>
		<tr>
			<th>viewAble</th>
			<td>权限项目是否可见,适用于部分权限仅有超级管理员具有的情况</td>
		</tr>
		<tr>
			<th>configAble</th>
			<td>权限项是否可配置，即赋予权限,适用于部分权限仅有超级管理员具有的情况，但对于其他人可见的情况</td>
		</tr>
		<tr>
			<th>valid</th>
			<td>权限项是否有效，如果某权限项目，无须再进行鉴全，则可将对应权限项，设置为无效即可</td>
		</tr>
		<tr>
			<th>editAble</th>
			<td>权限项是是否可编辑，部分权限项，适用于：权限项目允许界面进行维护的情况</td>
		</tr>
	</table>
</form>
	
</pre>
</div>
</body>
</html>